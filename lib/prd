üìò ENGZ AI Learning Platform ‚Äì PRD (English Version for Cursor AI)
1. Product Overview
ENGZ AI is an AI-powered English coaching platform that combines personalized 4-week learning routines, real-time AI feedback, and optional 1:1 tutor sessions.
Unlike typical English-learning apps where users quit after the first payment, ENGZ enforces consistency through structured 4-week cycles, progress tracking, and spaced-repetition review ‚Äî keeping learners engaged and accountable.
2. Core Concept
‚ÄúENGZ helps even short-attention-span learners (‚Äò4-week sprinters‚Äô) build long-term English speaking habits by completing one focused theme every month.‚Äù
Each user‚Äôs journey is based on:
A 4-week structured routine (Grammar, Slang, Business English, etc.)
AI-generated daily missions + feedback
Real tutor check-ins (optional)
Weekly & final progress reports
Automatic renewal every 4 weeks (with 7-day free trial)
3. User Flow
üß© Step-by-step Journey
Step	Description	Page / Action
1Ô∏è‚É£	Login / Signup via Google, Kakao, or Email	/login
2Ô∏è‚É£	7-day Free Trial Begins	trialActive = true, trialEndsAt = now + 7 days
3Ô∏è‚É£	AI Routine Setup: User selects learning theme and frequency	/onboarding
4Ô∏è‚É£	Learning Room Access	/learning-room
5Ô∏è‚É£	Weekly Missions + Feedback	/learning-room/weeks/[1-4]
6Ô∏è‚É£	Trial Ends ‚Üí Stripe Subscription Starts Automatically	Based on user‚Äôs selected billing cycle (Monthly or Yearly)
7Ô∏è‚É£	Routine Completion ‚Üí AI Report Generated	/report
8Ô∏è‚É£	Next 4-week Routine Auto-Suggested	/onboarding (loop continues)
4. Pricing & Subscription Logic
Stripe Integration Logic
Free Trial Period: 7 days (no charge)
Auto-renewal: After 7 days, Stripe automatically creates an active subscription based on user‚Äôs selected plan.
Plan Options:
price_monthly: $29.90 / month
price_yearly: $249.00 / year (17% discount)
Cancellation: User can cancel anytime from ‚ÄúMy Account‚Äù, but access continues until period end.
Pseudocode Logic:
if (trialEndsAt < now && !subscriptionActive) {
  createStripeSubscription({
    customerId: user.stripeCustomerId,
    priceId: user.selectedPlan === "monthly" ? STRIPE_PRICE_MONTHLY : STRIPE_PRICE_YEARLY
  });
  user.subscriptionActive = true;
}
5. Key Features
Feature	Description
üß† AI Routine Generator	Analyzes level + goal ‚Üí builds 4-week learning path
üóìÔ∏è Weekly Mission System	5 daily tasks per week with AI-generated feedback
üîÅ Spaced Repetition Review	Smart reminders (Day 3 / 7 / 14) to reinforce memory
üßë‚Äçüè´ Tutor Session Integration	Optional 20-min live coaching (1‚Äì5 times weekly)
üìä Progress Tracking	Weekly growth graph + AI-generated feedback summary
üß© Theme Rotation	New topic every 4 weeks (Grammar, Slang, Business, etc.)
üí¨ AI Feedback Chat	Real-time sentence correction + pronunciation score
üí≥ Auto Subscription	Stripe billing starts automatically after 7-day trial
üîî Notifications	Weekly mission reminders and progress updates
6. Database Schema (Prisma)
model User {
  id                String   @id @default(cuid())
  name              String?
  email             String?  @unique
  emailVerified     DateTime?
  image             String?

  plan              String?     // "monthly" or "yearly"
  trialActive       Boolean?    @default(false)
  trialEndsAt       DateTime?
  subscriptionActive Boolean?   @default(false)
  subscriptionId    String?
  stripeCustomerId  String?

  currentRoutineId  String?
  routines          Routine[]
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
}

model Routine {
  id          String   @id @default(cuid())
  userId      String
  theme       String
  startDate   DateTime
  endDate     DateTime
  completed   Boolean  @default(false)
  missions    Mission[]
  report      Report?
  user        User     @relation(fields: [userId], references: [id])
}

model Mission {
  id          String   @id @default(cuid())
  routineId   String
  week        Int
  day         Int
  content     String
  aiFeedback  String?
  completed   Boolean  @default(false)
  routine     Routine  @relation(fields: [routineId], references: [id])
}

model Report {
  id          String   @id @default(cuid())
  routineId   String
  summary     String
  scoreChange Float
  createdAt   DateTime @default(now())
  routine     Routine  @relation(fields: [routineId], references: [id])
}
7. Frontend Pages Overview
Page	Description
/login	Login or signup via Google / Kakao / Email
/onboarding	Choose learning goal & 4-week routine
/learning-room	User dashboard with missions, AI feedback, and reports
/learning-room/week/[n]	Weekly progress page
/report	AI-generated progress summary
/subscribe	Stripe billing management page
/account	Profile + Subscription status management
8. Stripe Subscription Setup (Technical Requirements)
Environment variables:
STRIPE_SECRET_KEY=sk_live_***
STRIPE_PRICE_MONTHLY=price_xxx
STRIPE_PRICE_YEARLY=price_yyy
STRIPE_WEBHOOK_SECRET=whsec_***
When user completes signup:
createStripeCustomer(email)
Save stripeCustomerId to user table
After 7-day trial:
Stripe automatically starts billing (via subscription.schedule.create)
Webhook endpoint:
/api/stripe/webhook ‚Üí updates Prisma user:
user.subscriptionActive = true
user.subscriptionId = event.data.object.id
9. Learning Room Wireframe
------------------------------------------------------------
ENGZ AI Learning Room
------------------------------------------------------------
üëã Hello, Hena!
Your current routine: [AI Speaking ‚Äì Week 2]
Progress: ‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë 45%

[ Today‚Äôs Mission ]
üéØ Record your answer ‚Üí AI feedback ‚Üí Repeat until 90+ score

[ Feedback Summary ]
Grammar: B+ | Pronunciation: A- | Fluency: B
üîÅ Review missions from 3 days ago

[ Upcoming Session ]
üóìÔ∏è 1:1 Tutor Call on Friday, 8 PM (Join via Zoom)

------------------------------------------------------------
[ View Weekly Report ] [ Next Routine Preview ]
------------------------------------------------------------
10. Differentiators (vs Traditional Apps)
Typical App	ENGZ AI
One-time purchase ‚Üí user churn	4-week cycle keeps user active
Static curriculum	AI-tailored 4-week routine
No accountability	Tutor + AI monitoring combo
Boring repetition	Theme rotation: Grammar ‚Üí Slang ‚Üí Business ‚Üí Travel
No re-engagement	Smart reminders & spaced repetition
No progress visibility	AI-generated visual growth report
11. Tech Stack Summary
Layer	Stack
Frontend	Next.js 15 + TailwindCSS + Shadcn/UI + Framer Motion
Backend	Next.js API Routes + Prisma + Neon PostgreSQL
Auth	NextAuth (Google / Kakao / Email)
Payment	Stripe Subscriptions (7-day trial + auto-renew)
AI Engine	OpenAI GPT + Whisper (speech feedback)
Realtime	Liveblocks / Firebase Sync
Deployment	Vercel
Storage	Supabase (for audio/video uploads)
