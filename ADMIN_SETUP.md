# ENGZ Admin Dashboard ì„¤ì • ê°€ì´ë“œ

## ğŸš€ ì´ˆê¸° ì„¤ì •

### 1. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰

Prisma ìŠ¤í‚¤ë§ˆì— ìƒˆë¡œìš´ í•„ë“œì™€ ëª¨ë¸ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤:

- `User` ëª¨ë¸ì— `role` í•„ë“œ ì¶”ê°€
- `AdminUser` ëª¨ë¸ ì¶”ê°€
- `Log` ëª¨ë¸ ì¶”ê°€

ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì‹¤í–‰í•˜ì„¸ìš”:

```bash
pnpm prisma migrate dev --name add_admin_models
pnpm prisma generate
```

### 2. Admin ì‚¬ìš©ì ìƒì„±

ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê´€ë¦¬ì ê¶Œí•œì„ ê°€ì§„ ì‚¬ìš©ìë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.

**ì˜µì…˜ 1: Prisma Studio ì‚¬ìš©**

```bash
pnpm prisma studio
```

1. `User` í…Œì´ë¸” ì—´ê¸°
2. ê¸°ì¡´ ì‚¬ìš©ì ì„ íƒ ë˜ëŠ” ìƒˆ ì‚¬ìš©ì ìƒì„±
3. `role` í•„ë“œë¥¼ `"admin"`ìœ¼ë¡œ ì„¤ì •

**ì˜µì…˜ 2: SQL ì§ì ‘ ì‹¤í–‰**

```sql
-- ê¸°ì¡´ ì‚¬ìš©ìë¥¼ adminìœ¼ë¡œ ë§Œë“¤ê¸°
UPDATE "User" SET role = 'admin' WHERE email = 'your-admin@email.com';

-- ë˜ëŠ” ìƒˆ admin ì‚¬ìš©ì ìƒì„± (OAuthë¡œ ë¡œê·¸ì¸ í›„ role ì„¤ì •)
```

**ì˜µì…˜ 3: ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©**

```typescript
// scripts/create-admin.ts (ìƒˆë¡œ ìƒì„±)
import prisma from "../lib/prisma";

async function createAdmin() {
  const admin = await prisma.user.update({
    where: { email: "admin@engz.com" },
    data: { role: "admin" },
  });
  console.log("Admin created:", admin);
}
```

### 3. í™˜ê²½ ë³€ìˆ˜ í™•ì¸

ë‹¤ìŒ í™˜ê²½ ë³€ìˆ˜ë“¤ì´ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:

- `STRIPE_SECRET_KEY` - Payments í˜ì´ì§€ì—ì„œ í•„ìš”
- `DATABASE_URL` - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
- `NEXTAUTH_SECRET` - ì¸ì¦
- `NEXTAUTH_URL` - ì¸ì¦ ë¦¬ë‹¤ì´ë ‰íŠ¸

## ğŸ“ ìƒì„±ëœ íŒŒì¼ êµ¬ì¡°

```
app/admin/
â”œâ”€â”€ layout.tsx          # Admin ë ˆì´ì•„ì›ƒ (ì‚¬ì´ë“œë°” + íƒ‘ë°”)
â”œâ”€â”€ login/
â”‚   â””â”€â”€ page.tsx        # Admin ë¡œê·¸ì¸ í˜ì´ì§€
â”œâ”€â”€ page.tsx            # ëŒ€ì‹œë³´ë“œ ë©”ì¸
â”œâ”€â”€ users/
â”‚   â””â”€â”€ page.tsx        # ì‚¬ìš©ì ê´€ë¦¬
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ page.tsx        # ë ˆë²¨í…ŒìŠ¤íŠ¸ ê´€ë¦¬
â”œâ”€â”€ payments/
â”‚   â””â”€â”€ page.tsx        # ê²°ì œ ê´€ë¦¬ (Stripe)
â”œâ”€â”€ feedback/
â”‚   â””â”€â”€ page.tsx        # AI í”¼ë“œë°± ê´€ë¦¬
â””â”€â”€ settings/
    â””â”€â”€ page.tsx        # ì„¤ì •

components/admin/
â”œâ”€â”€ Sidebar.tsx         # ì¢Œì¸¡ ë„¤ë¹„ê²Œì´ì…˜
â”œâ”€â”€ Topbar.tsx          # ìƒë‹¨ í—¤ë”
â”œâ”€â”€ StatCard.tsx        # KPI ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ DataTable.tsx       # ë°ì´í„° í…Œì´ë¸” ì»´í¬ë„ŒíŠ¸
â””â”€â”€ ChartCard.tsx       # ì°¨íŠ¸ ì»¨í…Œì´ë„ˆ

lib/
â””â”€â”€ admin.ts            # Admin ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
```

## ğŸ” ì¸ì¦ ë°©ì‹

Admin DashboardëŠ” ë‘ ê°€ì§€ ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

1. **Credentials Provider** (ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸)

   - `/admin/login`ì—ì„œ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸
   - í˜„ì¬ëŠ” `role="admin"`ì¸ ì‚¬ìš©ìë§Œ í—ˆìš©
   - í–¥í›„ `AdminUser` í…Œì´ë¸”ê³¼ ë¹„ë°€ë²ˆí˜¸ í•´ì‹±ìœ¼ë¡œ ê°•í™” ê°€ëŠ¥

2. **OAuth Provider** (ê¸°ì¡´ Google/Kakao)
   - ê¸°ì¡´ OAuth ë¡œê·¸ì¸ ì‚¬ìš©
   - ë¡œê·¸ì¸ í›„ `role="admin"`ì¸ ê²½ìš° `/admin` ì ‘ê·¼ ê°€ëŠ¥

## ğŸ¨ ë””ìì¸ ì‹œìŠ¤í…œ

- **Primary Color**: `#FF6B3D` (ENGZ Orange)
- **Background**: `#FFF8F4`
- **Accent**: `#1E293B`
- **Typography**: Pretendard (ê¸°ë³¸), Inter (í—¤ë”)

## ğŸ“Š ì£¼ìš” ê¸°ëŠ¥

### ëŒ€ì‹œë³´ë“œ (`/admin`)

- ì „ì²´ ì‚¬ìš©ì ìˆ˜
- í™œì„± êµ¬ë… ìˆ˜
- ì²´í—˜ ì‚¬ìš©ì ìˆ˜
- í‰ê·  ë ˆë²¨ ì ìˆ˜
- ì‚¬ìš©ì ì„±ì¥ ì¶”ì´ ì°¨íŠ¸
- í…ŒìŠ¤íŠ¸ ì™„ë£Œìœ¨ ì°¨íŠ¸
- ìµœê·¼ í™œë™ ë¡œê·¸

### ì‚¬ìš©ì ê´€ë¦¬ (`/admin/users`)

- ì „ì²´ ì‚¬ìš©ì ëª©ë¡
- ê²€ìƒ‰ ê¸°ëŠ¥ (ì´ë¦„/ì´ë©”ì¼)
- êµ¬ë… ìƒíƒœ í•„í„°
- ë ˆë²¨ ì •ë³´ í‘œì‹œ

### ë ˆë²¨í…ŒìŠ¤íŠ¸ (`/admin/tests`)

- ëª¨ë“  í…ŒìŠ¤íŠ¸ ê²°ê³¼
- ì ìˆ˜ ë¶„í¬ ì°¨íŠ¸
- í‰ê·  ì†ë„, ìˆœìœ„ ì •ë³´

### ê²°ì œ ê´€ë¦¬ (`/admin/payments`)

- Stripe êµ¬ë… ì •ë³´
- ê²°ì œ ìƒíƒœ ëª¨ë‹ˆí„°ë§
- Stripe ëŒ€ì‹œë³´ë“œ ë§í¬

### AI í”¼ë“œë°± (`/admin/feedback`)

- AI ìƒì„± í”¼ë“œë°± ê²€í† 
- ì¶”ì²œ ë£¨í‹´ í™•ì¸

### ì„¤ì • (`/admin/settings`)

- í™˜ê²½ ë³€ìˆ˜ í™•ì¸
- ê°€ê²© í”Œëœ ì„¤ì •
- ìœ ì§€ë³´ìˆ˜ ëª¨ë“œ í† ê¸€
- ë¡œê·¸ ë·°ì–´

## ğŸ›  í–¥í›„ ê°œì„  ì‚¬í•­

1. **ë¹„ë°€ë²ˆí˜¸ ì¸ì¦ ê°•í™”**

   - `AdminUser` í…Œì´ë¸” í™œìš©
   - bcryptë¡œ ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
   - ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ê¸°ëŠ¥

2. **ê¶Œí•œ ê´€ë¦¬**

   - "admin"ê³¼ "coach" ì—­í•  êµ¬ë¶„
   - í˜ì´ì§€ë³„ ì ‘ê·¼ ê¶Œí•œ ì œì–´

3. **ë°ì´í„° ë‚´ë³´ë‚´ê¸°**

   - CSV ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥
   - ë¦¬í¬íŠ¸ ìƒì„±

4. **ì‹¤ì‹œê°„ ì•Œë¦¼**
   - ìƒˆ ì‚¬ìš©ì ê°€ì… ì•Œë¦¼
   - ê²°ì œ ì‹¤íŒ¨ ì•Œë¦¼
   - ì—ëŸ¬ ë¡œê·¸ ì•Œë¦¼

## ğŸ§ª í…ŒìŠ¤íŠ¸

ê°œë°œ ì„œë²„ë¥¼ ì‹¤í–‰í•œ í›„:

```bash
pnpm dev
```

ë¸Œë¼ìš°ì €ì—ì„œ `/admin/login`ìœ¼ë¡œ ì ‘ì†í•˜ì—¬ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.

**ì°¸ê³ **: ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì‹¤í–‰í•˜ê³  admin ì‚¬ìš©ìë¥¼ ìƒì„±í•œ í›„ì—ë§Œ ì •ìƒ ì‘ë™í•©ë‹ˆë‹¤.
